# 웹딴섬
간호사 당직 근무 웹사이트   
</br></br>
_ERD_
![ERD](https://user-images.githubusercontent.com/77259234/167306907-31d794c4-e86a-4226-9096-b28b0689eb27.png)
</br></br></br>
_세부기능_
<table>
  <tr>
    <th>메뉴</th>
    <th>요청 기능</th>
    <th>세부기능</th>
    <th>세부 내용</th>
  </tr>
  <tr>
    <td rowspan="8">회원메뉴</td>
    <td>로그인</td>
    <td>로그인</td>
    <td rowspan="2">
      <ul>
        <li>REST API를 통해 회원가입과 로그인을 간편하게 할 수 있다.</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td>회원가입</td>
    <td>회원가입</td>
  </tr>
  <tr>
    <td>비밀번호 찾기</td>
    <td>비밀번호 찾기</td>
    <td>
      <ul>
        <li>DB에 저장된 회원 이름과 이메일을 입력받고 비밀번호를 이메일로 난수 비밀번호를 보내준다.</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td rowspan="5">회원정보 수정</td>
    <td>회원정보 변경</td>
    <td>
      <ul>
        <li>이름, 전화번호 변경 가능</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td>비밀번호 변경</td>
    <td>
      <ul>
        <li>비밀번호 변경 기능</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td>회원탈퇴</td>
    <td>
      <ul>
        <li>DB 데이터를 delect로 회원 정보 삭제</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td>그룹 생성</td>
    <td>
      <ul>
        <li>어떤 병원의 과별(응급과, 수술과) 그룹 생성</li>
        <li>어떠한 그룹에도 속해 있지 않은 회원은 그룹을 생성할 수 있고 생성과 동시에 직책은 수간호사로 정해진다.</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td>그룹 참여</td>
    <td>
      <ul>
        <li>이미 생성된 그룹의 참여는 해당 그룹의 수간호사(그룹장)의 초대링크 공유를 통해 해당 그룹에 참여할 수 있다.</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td rowspan="10">수간호사 메뉴</td>
    <td rowspan="2">간호사 등록</td>
    <td>간호사 추가/수정</td>
    <td>
      <ul>
        <li>간호사를 추가하게 되면 DB 간호사 테이블의 튜플이 하나 생성되며 튜플에는 이름, 전담, 직책(수간호사, 책임간호사, 주임간호사, 평간호사, 신입 간호사), 연차가 저장된다.</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td>프리셉터 관계 생성</td>
    <td>
      <ul>
        <li>추가된 간호사들을 선택하여 선임간호사 - 신입 간호사를 매칭해 프리셉터 관계를 등록할 수 있다.</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td rowspan="5">근무표 관리</td>
    <td>근무표 자동생성</td>
    <td>
      <ul>
        <li>자동 생성에 고려할 내용으로 직책, 해당 일 최소 듀티별 인원, 전날 듀티, 월 N 근무 평균을 고려하여 자동 생성</li>
        <li>듀티별 하루 최소인원은 D은 2명, E는 2명, N은 2명을 표준으로 정하여 고려한다.(최소인원은 사용자가 변경 가능함)</li>
        <li>전전날까지 고려하여 우선순위를 정하고 우선수위가 높은 간호사부터 배정(이전 근무가 NODm EOD일 경우 우선순위를 낮춤)</li>
        <li>선임 간호사와 신입 간호사의 프리셉터 관계를 고려하여, 같이 근무 할 수 있도록 고려한다.</li>
        <li>만약 프리셉터 관계가 없을 경우 신입이 너무 많이 배치 되는 경우가 생기지 않게 신입 이 배정된 경우 다른 신입들의 우선순위를 낮춤</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td>월별 근무표 조회/수정</td>
    <td>
      <ul>
        <li>DB에서 근무 테이블에서 날짜로 조회하여 해당 월 근무표 불러오기 가능</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td>근무표 입출력(xls, csv)</td>
    <td>
      <ul>
        <li>입력 기능 : 엑셀 파일 불러오기 및 붙여넣기로 근무표 작성</li>
        <li>출력 기능 : xls, csv 등으로 액셀 파일로 다운로드</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td>근무 조정 요청 목록 조회</td>
    <td>
      <ul>
        <li>근무 조정 요청 목록 버튼 클릭 시 다이얼로그 창으로 일반 간호사들이 요청한 근무조정 리스트를 보여줌</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td>임시근무표 생성 / 수기작성 / 근무표 등록</td>
    <td>
      <ul>
        <li>근무표 생성 버튼을 통해 다음 임시근무테이블에 다음 달의 근무 null값 튜플들이 자동생성되며 이는 수간호사의 수정 및 미완성된 근무표를 저장하기 위함</li>
        <li>임시 근무테이블에 저장된 근무표는 일반 간호사는 볼 수 없으며 날짜를 표시할 상단 UI에는 (임시)라는 명칭이 붙을 것임</li>
        <li>수기입력 및 자동 생성을 통해 만들어진 임시 근무 테이블에 저장되며 임시근무 테이블에서 delete되며 일반 간호사가 볼 수 있게 된다.</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td>듀티 코드 관리</td>
    <td>듀티 코드 적용</td>
    <td>
      <ul>
        <li>사용 여부 체크를 통해 근무 코드 사용</li>
        <li>추가 버튼을 통해 사용자 설정 코드 추가 기능</li>
        <li>근무 시간을 정하고, 시작 시간을 정하면 종료 시간은 자동 계산</li>
        <li>코드 구분을 통해 기본 시스템과 사용자 설정 코드를 구분</li>
        <li>코드 구분이 사용자일 경우만 삭제 기능</li>
        <li>초기화시 코드 구븐이 사용자인 것은 모두 삭제하고 백엔드에 미리 작성한 update 문을 통해 초기 상태로 초기화</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td rowspan="2">근무 통계 조회</td>
    <td>듀티 및 특이사항 조회</td>
    <td>
      <ul>
        <li>DB에서 해당 그룹 간호사별로 D, E, N 등의 듀티를 Count해서 숫자 및 그래프 통계 조회</li>
        <li>그래프는 Count 수에 따라 Size 크기 변경으로 그리기</li>
        <li>DB의 간호사 테이블에서 남은 연차나 사용한 연차 조회 기능</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td>간호사 리스트 조회</td>
    <td>
      <ul>
        <li>DB에서 날짜를 통해 해당 날짜에 근무한 간호사 변호 외래키를 통해 간호사 리스트를 조회 가능</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td rowspan="5">일반 간호사 메뉴</td>
    <td rowspan="2">근무 조회</td>
    <td>근무표 조회</td>
    <td>
      <ul>
        <li>간호사 연동을 해야만 이용가능(연동되면 회원테이블의 외래키로 설정한 간호사 번호가 update된다.)</li>
        <li>연동이 되면 해당 간호사의 근무표 조회가능</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td>근무표 통계 조회</td>
    <td>
      <ul>
        <li>옵션을 통해 간호사 연동을 해야만 이용가능</li>
        <li>연동이 되면 해당 간호사의 근무 통계 조회 가능</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td rowspan="3">근무 조회</td>
    <td>지정 off일 요청</td>
    <td rowspan="3">
      <ul>
        <li>근무일 조정 요청에 듀티 코드 날짜와 사유 적어야함</li>
        <li>연차 사용 시 현재 연차에서 -1, 반차 사용 시 현재 연차에서 -0.5일 적용됨</li>
        <li>해당 근무 조정은 모두 텍스트형식으로 저장될 것이며 이는 단순 수간호사의 참고용이므로 해당 조정 요청에 대한 반영은 수간호사가 수기로 적용해야 한다.</li>
      </ul>
    </td>
  </tr>
  <tr>
    <td>휴가 신청</td>
  </tr>
  <tr>
    <td>근무일 조정 요청</td>
  </tr>
</table>
